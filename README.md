---
icon: calendar-check
---

# 公共说明和错误码

## 1. 运营商接入说明

### 基本信息

* **API提供方（我方）**：游戏厂商方 (`{APIURL}`)
* **接入方**：运营商 (`{OPURL}`)
* **服务器时区**：UTC+0（接入时需注意数据统计的时区计算）
* **成功标识**：接口返回 `code = 0` 表示成功

### 账号获取流程

1. 运营商提交开户申请。
2. 审核通过后，游戏厂商方提供运营商后台账号。
3. 运营商登录后台获取以下信息：
   * `{APIURL}`：接口地址
   * `AppID`：商户号（商户名称）
   * `AppSecret`：商户编码

***

## 2. 公共参数与签名算法

所有请求头（Header）中必须包含以下公共参数：

| 参数             | 所处位置   | 必填 | 类型     | 说明                    |
| -------------- | ------ | -- | ------ | --------------------- |
| `X-Sign`       | header | 是  | string | 签名算法见 签名算法及示例         |
| `X-Request-Id` | header | 是  | string | 唯一，建议格式：UTC时间戳\_6位随机码 |
| `X-Appid`      | header | 是  | string | 商户号                   |

### 签名算法及示例

**签名算法规则：**

$$
\text{sign} = \text{MD5}(\text{X-Request-Id} + \text{body 中的原始 JSON 字符串} + \text{签名密钥 key})
$$

**注意：** 这里的 body 中的 JSON 字符串必须是请求中最原始的 body 中的字符，不能使用 JSON 包转出来之后的字符。最终签名必须使用小写输出。

#### 示例数据

| 类型                    | 值                                      |
| --------------------- | -------------------------------------- |
| **请求 URL**            | `{APIURL}/api/v1/game/list`            |
| **请求方式**              | POST                                   |
| **Content-Type**      | `application/json; charset=utf-8`      |
| **X-Appid**           | `qwe456_USD_1`                         |
| **X-Request-Id**      | `1760060260227_224451`                 |
| **签名密钥 Key**          | `970cb4e4-9ed3-4fc0-802c-8dbedb8b5e85` |
| **请求 Body (原始 JSON)** | `{"language":"en"}`                    |
| **期望 X-Sign**         | `cdb2ea5d7b5186cff285b6f9607a02ce`     |

#### MD5 计算结果示例：

| **需要 MD5 加密的字符串**          | `1760060260227_224451{"language":"en"}970cb4e4-9ed3-4fc0-802c-8dbedb8b5e85` |
| -------------------------- | --------------------------------------------------------------------------- |
| **最终加密出来的 MD5 字符串 (sign)** | `cdb2ea5d7b5186cff285b6f9607a02ce`                                          |

***

## 3. 接口协议规范

### 请求规范

* **Content-Type**：`application/json;charset=UTF-8`
* **请求方法**：POST
* **时间格式**：UTC时间戳

### 响应规范

* **HTTP状态码**：200 表示HTTP访问正常，其他状态码表示链路异常
* **Content-Type**：`application/json;charset=UTF-8`
*   **响应格式**：`{"code": int, "error": string, "data": object}`

    #### 响应字段说明

    | 参数名   | 类型      | 说明                |
    | ----- | ------- | ----------------- |
    | code  | integer | 错误编码，0表示成功，非0表示失败 |
    | error | string  | 错误信息描述            |
    | data  | object  | 返回的业务数据（有错误不会生效）  |

    #### 响应示例

    ```json
    {
      "code": 0,
      "error": "",
      "data": {
        "glist": [
          {
            "gameid": "9",
            "name": "mine",
            "platform": "1"
          }
        ]
      }
    }
    ```

***

## 4. 错误码说明

| Code | 说明                    |
| ---- | --------------------- |
| 0    | 成功                    |
| 1001 | 运营商被禁用                |
| 1002 | 无效的商户ID               |
| 1003 | 线路商被禁用                |
| 1004 | 游戏未找到                 |
| 1005 | 该游戏正在进行维护             |
| 1006 | 该游戏已关闭                |
| 1007 | 该游戏已隐藏                |
| 1008 | 用户ID为空                |
| 1009 | 无效的钱包类型               |
| 1011 | 无效的商户编码               |
| 1012 | 您所在的国家或地区受到限制         |
| 1013 | 线路商不允许调用接口            |
| 1014 | IP不允许访问               |
| 1015 | 错误的RTP赋值              |
| 1016 | 错误的转账金额               |
| 1017 | 订单已存在                 |
| 1018 | 订单不存在                 |
| 1019 | 请求太频繁                 |
| 1020 | 无效的游戏类型               |
| 1021 | 未开启商户调控RTP开关          |
| 1022 | 商户未审核                 |
| 1023 | 余额不足                  |
| 1024 | 开关值错误                 |
| 1025 | RTP生效次数值错误            |
| 1026 | 最大倍数值小于等于最小倍数值        |
| 1027 | 购买RTP开关权限未开启          |
| 1028 | 个人最高赢分设置值错误           |
| 1029 | 个人最高倍数设置值错误           |
| 1030 | 监控类型或监控开关值错误          |
| 1031 | 监控新手局数值错误             |
| 1032 | 监控玩家RTP误差范围值错误        |
| 1033 | 监控游戏内统计数据周期值错误        |
| 1034 | 监控增加RTP范围或减少RTP范围为空   |
| 1035 | 监控新手非新手游戏调控的触发概率值设置错误 |
| 1036 | 获取下注历史每页数据条数需要小于10000 |
| 2001 | 玩家不存在                 |
| 2002 | 玩家被禁用                 |

***

## 5. 技术支持

如有技术问题或需要进一步的接入支持，请联系我方客服团队。
